---
title: CF1325D Ehab the Xorcist
categories:
  - 题解
tags:
  - 构造
  - 贪心
  - 位掩码
date: 2020-03-15 11:36:14
---

## 思路

观察本题的数据范围可知本题应有通解。

考虑数组长度为3时，
$$
\begin{align}
&a_1 \oplus a_2 \oplus a_3 = u \label{eq1}\\
&a_1 + a_2 + a_3 = v \label{eq2} \\
\end{align}
$$
变换得：
$$
\begin{align}
u \oplus a_1 \oplus a_2 + a_1 + a_2 = v
\end{align}
$$
考虑特殊情况$a_1 = a_2$，则$a_1 = a_2 = \frac{v - u}{2}$。

首先，让我们看一些特殊情况。如果u> v或u和v具有不同的奇偶校验，则没有数组。如果u = v = 0，则答案为空数组。如果u = v≠0，则答案为[u]。现在，长度至少为2。令x = v-u / 2。数组[u，x，x]满足条件，所以长度最多为3。我们只需要弄清楚是否有一对数字a和b。这样a⊕b= u和a + b = v。注意到，a + b =a⊕b+ 2 *（a＆b），所以我们知道a＆b = v−u / 2 = x（惊讶）。摆脱a + b的好处是我们可以一点一点看a和b。如果x某位为1，则a和b必须都为1，因此a⊕b= u必须为0。如果x为零，则对u绝对没有限制。因此，如果x和u都存在一个点，即x＆u≠0，则找不到这样的a和b，长度为3。否则，x＆u = 0表示x⊕ u = x + u，因此数组[u + x，x]有效。您能看到此数组的构造方式吗？受益于u＆x = 0的事实，我们采用了[u，x，x]显然更有效并且合并了前两个元素。

## 注释与参考